var ModelView = require('../model-view');
var getView = require('../../get-view');
var TabListItemView = ModelView.extend({
  selectable: true,
  attributes: function () {
    var attrs = {
      'role': 'tab',
      'id': 'tab-' + this._uuid,
      'aria-controls': 'panel-' + this._uuid,
      'tabindex': this._tabindex
    };

    return attrs;
  },
  initialize: function (options) {
    options = options || {};
    this._uuid = options.model.cid;
    this._icon = options.model.get('icon');
    this._tabindex = options.tabindex !== undefined ? options.tabindex : -1;
    this.el.classList.add('tab-' + (options.model.get('name') || this._uuid).toLowerCase().replace(/[^a-z0-9]+/, '-'));
    return ModelView.prototype.initialize.call(this, options);
  },
  _template: function (model) {
    return model && model.name ? model.name : '';
  },
  render: function () {
    if (this._icon) {
      this.el.style.backgroundImage = this._icon ? 'url(' + this._icon + ')' : '';
      this.el.classList.add((!this._icon ? 'tab-view-no-icon' : 'tab-view-icon'));
    }

    return ModelView.prototype.render.call(this);
  }
});
module.exports = TabListItemView;
