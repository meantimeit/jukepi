var CollectionView = require('../collection-view');
var getView = require('../../get-view');
var TabListItemView = require('./tab-list-item-view');

function toggleTabListViews(views, index) {
  return function (model) {
    toggleTabListView(model, views.indexOf(model) === index);
  }
}

function toggleTabListView(model, matchesIndex) {
  if (matchesIndex) {
    model.get('view').active();
  }
  else {
    model.get('view').inactive();
  }
}

var TabListView = CollectionView.extend({
  tagName: 'ul',
  ModelViewClass: TabListItemView,
  selectable: true,
  attributes: {
    'role': 'tablist'
  },
  setSelected: function (index) {
    this._parent.switchTab(index);
    return CollectionView.prototype.setSelected.call(this, index);
  }
});

module.exports = TabListView;
